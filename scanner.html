<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>人肉搜索 — Scanner</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=EB+Garamond:ital,wght@0,400;0,500;1,400&display=swap');

body {
  background: #1a0a02;
  color: #c8a878;
  font-family: 'EB Garamond', Georgia, serif;
  font-size: 16px;
  line-height: 1.6;
  margin: 0; padding: 0;
}
::selection { background: #6b4420; color: #fee6cf; }
a { color: #bd965d; text-decoration: none; }
a:hover { color: #fee6cf; }
#wrapper { max-width: 800px; margin: 0 auto; min-height: 100vh; }

#header {
  border-bottom: 1px solid #3a1a08;
  padding: 40px 24px 20px;
  text-align: center;
}
#header h1 {
  font-family: 'Cinzel', serif;
  font-size: 36px;
  font-weight: 400;
  color: #bd965d;
  margin: 0;
  letter-spacing: 8px;
}
#header .sub {
  font-size: 11px;
  color: #5a3a18;
  letter-spacing: 6px;
  text-transform: uppercase;
  margin-top: 6px;
}
#nav {
  text-align: center;
  padding: 10px;
  font-family: 'Cinzel', serif;
  font-size: 11px;
  letter-spacing: 3px;
  text-transform: uppercase;
  border-bottom: 1px solid #2a1408;
}
#nav a { color: #6b4420; margin: 0 14px; }
#nav a:hover { color: #bd965d; }

#content { padding: 30px 24px; }

h2 {
  font-family: 'Cinzel', serif;
  font-size: 14px;
  font-weight: 400;
  color: #6b4420;
  letter-spacing: 4px;
  text-transform: uppercase;
  border-bottom: 1px solid #2a1408;
  padding-bottom: 6px;
  margin: 30px 0 14px;
}

.intro {
  font-style: italic;
  color: #6b4420;
  font-size: 14px;
  margin-bottom: 20px;
  border-left: 2px solid #2a1408;
  padding-left: 14px;
}

textarea {
  font-family: 'EB Garamond', Georgia, serif;
  font-size: 15px;
  background: #0e0600;
  color: #c8a878;
  border: 1px solid #2a1408;
  padding: 14px;
  width: 100%;
  box-sizing: border-box;
  height: 180px;
  resize: vertical;
}
textarea::placeholder { color: #3a1a08; }
textarea:focus { outline: none; border-color: #6b4420; }

button {
  font-family: 'Cinzel', serif;
  font-size: 11px;
  letter-spacing: 2px;
  background: none;
  color: #6b4420;
  border: 1px solid #3a1a08;
  padding: 8px 18px;
  cursor: pointer;
  text-transform: uppercase;
  margin-top: 8px;
}
button:hover { color: #bd965d; border-color: #6b4420; }

#results {
  margin-top: 24px;
  display: none;
}
.result-summary {
  background: #0e0600;
  border: 1px solid #2a1408;
  padding: 16px;
  margin-bottom: 16px;
}
.result-score {
  font-family: 'Cinzel', serif;
  font-size: 42px;
  color: #bd965d;
  line-height: 1;
}
.result-score.high { color: #8a3a2a; }
.result-score.med { color: #a07840; }
.result-label {
  font-size: 10px;
  color: #5a3a18;
  text-transform: uppercase;
  letter-spacing: 2px;
}

.detection {
  background: #0e0600;
  border: 1px solid #2a1408;
  padding: 12px 14px;
  margin: 8px 0;
}
.detection .code {
  font-family: 'Courier New', monospace;
  font-size: 11px;
  color: #5a3a18;
}
.detection .name {
  font-size: 14px;
  color: #bd965d;
  margin: 2px 0;
}
.detection .name.high { color: #8a3a2a; }
.detection .desc {
  font-size: 13px;
  color: #6b4420;
  font-style: italic;
}
.detection .matches {
  margin-top: 6px;
  font-size: 12px;
  color: #5a3a18;
}
.detection .match-item {
  border-left: 2px solid #2a1408;
  padding-left: 10px;
  margin: 4px 0;
}

.examples {
  margin-top: 20px;
}
.example-btn {
  font-family: 'EB Garamond', serif;
  font-size: 12px;
  background: none;
  color: #5a3a18;
  border: 1px solid #2a1408;
  padding: 4px 10px;
  cursor: pointer;
  margin: 0 4px 4px 0;
  text-transform: none;
  letter-spacing: 0;
}
.example-btn:hover { color: #bd965d; border-color: #6b4420; }

#footer {
  border-top: 1px solid #2a1408;
  padding: 20px 24px;
  text-align: center;
  font-size: 10px;
  color: #2a1408;
  letter-spacing: 2px;
}
</style>
</head>
<body>

<div id="wrapper">

<div id="header">
  <h1>人肉搜索</h1>
  <div class="sub">the flesh remembers what the profile deletes</div>
</div>

<div id="nav">
  <a href="index.html">Index</a>
  <a href="scanner.html">Scanner</a>
  <a href="about.html">About</a>
  <a href="https://github.com/Mirai8888/fleshengine">Source</a>
</div>

<div id="content">

  <h2>Influence Scanner</h2>

  <div class="intro">Paste any text. A tweet, an article, a message someone sent you at 3 AM. The scanner identifies which vectors are active. It runs entirely in your browser. Nothing leaves your machine.</div>

  <textarea id="scan-input" placeholder="Paste the text you want analyzed..."></textarea>
  <button onclick="runScan()">Analyze</button>

  <div class="examples">
    <button class="example-btn" onclick="loadExample(0)">Propaganda excerpt</button>
    <button class="example-btn" onclick="loadExample(1)">Recruitment message</button>
    <button class="example-btn" onclick="loadExample(2)">Fear campaign</button>
    <button class="example-btn" onclick="loadExample(3)">Conspiracy thread</button>
    <button class="example-btn" onclick="loadExample(4)">Corporate manipulation</button>
  </div>

  <div id="results">
    <div class="result-summary">
      <div class="result-score" id="r-score">0</div>
      <div class="result-label">vectors detected</div>
    </div>
    <div id="detections"></div>
  </div>

</div>

<div id="footer">
  人肉搜索 &middot; FLESHENGINE &middot; the crowd sees what the algorithm misses
</div>

</div>

<script>
const EXAMPLES = [
  "The mainstream media won't tell you this, but everyone who's paying attention already knows. The evidence is overwhelming and undeniable. Share this before they take it down. They're actively suppressing this information because it threatens everything they've built. Wake up. Time is running out.",
  "Hey, I noticed you've been posting some really interesting stuff lately. You clearly get it in a way most people don't. We have a private group of people who think like you. No pressure, but I think you'd be a perfect fit. Most people aren't ready for this kind of conversation. You are.",
  "BREAKING: New data confirms what experts feared. The situation is worse than anyone predicted. Your family is at risk RIGHT NOW. The government is covering up the real numbers. You have 48 hours to prepare. Share this with everyone you love before it's too late. This is not a drill.",
  "Think about it. Every single time, the same pattern. The same people. The same connections. Exposed exposed exposed. They told you it was a conspiracy theory. Now look. Follow the money. Connect the dots. Nothing is coincidence. Once you see it you can't unsee it. The sleeping masses will catch up eventually.",
  "At our company, we don't just have employees. We have a family. When you join us, you join a movement that's changing the world. Our founder's visionary leadership has created a culture of radical transparency and unconditional trust. We ask a lot because we give everything. Those who can't keep up simply weren't meant for greatness."
];

const FE = [
  { code:'FE-001', name:'Narrative Framing', patterns:[/mainstream media/i,/they don'?t want you to know/i,/the real story/i,/what they'?re not telling/i,/hidden truth/i,/cover[- ]?up/i,/the narrative/i,/official story/i,/suppressing/i,/won'?t tell you/i] },
  { code:'FE-002', name:'Repetition Saturation', patterns:[/exposed exposed/i,/\b(\w+)\s+\1\s+\1\b/i,/again and again/i,/over and over/i,/exposed exposed/i] },
  { code:'FE-003', name:'Audience Conditioning', patterns:[/everyone knows/i,/people who think like/i,/already knows/i,/if you understand/i,/people who get it/i,/paying attention/i,/those who see/i,/the awake/i,/ready for this/i,/most people aren'?t/i] },
  { code:'FE-004', name:'Loyalty Exploitation', patterns:[/family/i,/trust/i,/loyalty/i,/one of us/i,/betray/i,/unconditional/i,/movement/i,/true believer/i,/you'?re special/i,/perfect fit/i] },
  { code:'FE-005', name:'Identity Manipulation', patterns:[/you clearly get it/i,/not like (the )?others/i,/meant for greatness/i,/you'?re different/i,/real .*(patriot|american|thinker)/i,/your identity/i,/who you really are/i,/you understand/i] },
  { code:'FE-006', name:'Manufactured Consensus', patterns:[/everyone (agrees|knows|sees)/i,/millions of people/i,/the people have spoken/i,/undeniable/i,/overwhelming/i,/no one disagrees/i,/obvious to anyone/i,/evidence is overwhelming/i] },
  { code:'FE-007', name:'Viral Propagation', patterns:[/share this/i,/spread the word/i,/retweet/i,/tell everyone/i,/before they (delete|remove|take)/i,/going viral/i,/must see/i,/tag someone/i,/before it'?s too late/i] },
  { code:'FE-008', name:'Urgency Fabrication', patterns:[/right now/i,/breaking/i,/urgent/i,/act now/i,/time is running out/i,/48 hours/i,/last chance/i,/this is not a drill/i,/immediately/i,/emergency/i] },
  { code:'FE-009', name:'Attention Redirection', patterns:[/look over here/i,/distract/i,/what they don'?t want you (to see|looking at)/i,/pay no attention/i,/focus on/i,/the real issue/i,/think about it/i,/follow the money/i,/connect the dots/i] },
  { code:'FE-010', name:'Reality Distortion', patterns:[/nothing is (a )?coincidence/i,/once you see it/i,/can'?t unsee/i,/the matrix/i,/simulation/i,/illusion/i,/open your eyes/i,/wake up/i,/red pill/i,/conspiracy theory.*now look/i] },
  { code:'FE-011', name:'Cognitive Overload', patterns:[/exposed exposed exposed/i,/exposed\s/i,/exposed/gi,/bombshell/i,/shocking/i,/you won'?t believe/i,/mind[- ]?blow/i,/jaw[- ]?drop/i] },
  { code:'FE-012', name:'Existential Threat Framing', patterns:[/your family is at risk/i,/children are in danger/i,/end of .*(world|civilization|society)/i,/extinction/i,/survive/i,/threat to everything/i,/threatens everything/i,/worse than anyone/i] },
];

function runScan() {
  const text = document.getElementById('scan-input').value.trim();
  if (!text) return;

  const hits = [];
  FE.forEach(v => {
    const matched = [];
    v.patterns.forEach(p => {
      const m = text.match(p);
      if (m) matched.push(m[0]);
    });
    if (matched.length) {
      hits.push({ ...v, matches: [...new Set(matched)] });
    }
  });

  const resultsEl = document.getElementById('results');
  const scoreEl = document.getElementById('r-score');
  const detectEl = document.getElementById('detections');

  scoreEl.textContent = hits.length;
  scoreEl.className = 'result-score' + (hits.length >= 6 ? ' high' : hits.length >= 3 ? ' med' : '');

  detectEl.innerHTML = '';
  if (!hits.length) {
    detectEl.innerHTML = '<div style="color:#5a3a18;font-style:italic;padding:10px 0;">No vectors detected. Either this text is clean, or the patterns are more subtle than the scanner can catch. Trust your instincts.</div>';
  } else {
    hits.forEach(h => {
      let html = '<div class="detection">';
      html += '<span class="code">' + h.code + '</span>';
      html += '<div class="name' + (h.matches.length >= 3 ? ' high' : '') + '">' + h.name + '</div>';
      html += '<div class="matches">';
      h.matches.forEach(m => {
        html += '<div class="match-item">"' + m + '"</div>';
      });
      html += '</div></div>';
      detectEl.innerHTML += html;
    });
  }

  resultsEl.style.display = 'block';
}

function loadExample(n) {
  document.getElementById('scan-input').value = EXAMPLES[n];
  runScan();
}
</script>
</body>
</html>
